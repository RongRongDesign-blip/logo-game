<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åƒç´  LOGO çŒœçŒœçœ‹</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* æ—¥ç³»å¾©å¤åƒç´ é…è‰² */
            --bg-color: #FFF1E8;      /* ç±³é»ƒèƒŒæ™¯ */
            --card-bg: #FFCCAA;       /* éŠæˆ²æ©Ÿèº«æ©˜ç²‰è‰² */
            --screen-bg: #292831;     /* å±å¹•æ·±è‰²èƒŒæ™¯ */
            --text-color: #292831;    /* å¾©å¤æ·±ç°å­— */
            --text-light: #FFF1E8;    /* æ·ºè‰²å­— */
            --accent-blue: #29ADFF;   /* åƒç´ è— */
            --accent-red: #FF004D;    /* åƒç´ ç´… (éŒ¯èª¤/å¼·èª¿) */
            --accent-green: #00E756;  /* åƒç´ ç¶  (æ­£ç¢º) */
            --accent-yellow: #FFA300; /* åƒç´ é»ƒ */
            --border-color: #000000;  /* ç´”é»‘é‚Šæ¡† */
            --pixel-size: 4px;        /* åŸºç¤åƒç´ å–®ä½ */
        }

        * {
            box-sizing: border-box;
            /* ç¦æ­¢æ‰‹æ©Ÿé›™æ“Šç¸®æ”¾ */
            touch-action: manipulation; 
        }

        body {
            font-family: 'DotGothic16', sans-serif; /* æ‡‰ç”¨åƒç´ å­—é«” */
            background-color: var(--bg-color);
            /* æ·»åŠ å¾©å¤æ–¹æ ¼èƒŒæ™¯ç´‹ç† */
            background-image: 
                linear-gradient(45deg, #FFDEC7 25%, transparent 25%), 
                linear-gradient(-45deg, #FFDEC7 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, #FFDEC7 75%), 
                linear-gradient(-45deg, transparent 75%, #FFDEC7 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            image-rendering: pixelated; /* è®“åœ–ç‰‡å‘ˆç¾åƒç´ æ„Ÿ */
        }

        /* éŠæˆ²ä¸»æ©Ÿå¤–æ®¼ */
        .game-container {
            background: var(--card-bg);
            width: 100%;
            max-width: 480px;
            /* åƒç´ é¢¨æ ¼é‚Šæ¡†ï¼šåšé»‘é‚Š + ç¡¬é™°å½± */
            border: var(--pixel-size) solid var(--border-color);
            box-shadow: var(--pixel-size) var(--pixel-size) 0px rgba(0,0,0,0.5);
            padding: 25px;
            text-align: center;
            position: relative;
            /* ç§»é™¤åœ“è§’ï¼Œæ”¹ç‚ºç›´è§’ */
            border-radius: 0; 
        }

        /* æ¨™é¡Œ */
        h1 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--accent-red);
            text-shadow: 2px 2px 0px var(--border-color);
            letter-spacing: 2px;
        }

        /* é€²åº¦æ¢ */
        .progress {
            font-size: 1rem;
            color: var(--text-color);
            margin-bottom: 20px;
            background: var(--accent-yellow);
            display: inline-block;
            padding: 5px 15px;
            border: 3px solid var(--border-color);
            font-weight: bold;
        }

        /* ç·šç´¢å±å¹•å€ (æ¨¡ä»¿ CRT è¢å¹•) */
        .clue-box {
            background: var(--screen-bg);
            color: var(--text-light);
            border: var(--pixel-size) solid var(--border-color);
            /* å…§é™°å½±æ¨¡æ“¬è¢å¹•é‚Šç·£ */
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5); 
            padding: 30px 20px;
            margin-bottom: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 180px;
            position: relative;
            overflow: hidden;
        }

        /* CRT æƒæç·šæ•ˆæœ (å¯é¸ï¼Œå¢åŠ å¾©å¤æ„Ÿ) */
        .clue-box::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 4px, 3px 100%;
            pointer-events: none;
        }

        .clue-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
            /* çµ¦ emoji åŠ å€‹åƒç´ æé‚Šæ•ˆæœ */
            filter: drop-shadow(3px 3px 0 var(--border-color)); 
            z-index: 3;
        }

        .clue-text {
            font-size: 1.4rem;
            font-weight: normal;
            line-height: 1.5;
            text-shadow: 2px 2px 0px var(--border-color);
            z-index: 3;
        }

        /* æç¤ºæ–‡å­— */
        .question-prompt {
            margin-bottom: 15px;
            font-size: 1rem;
            color: var(--text-color);
            font-weight: bold;
        }

        /* è‰²ç¥¨æ¨£å¼ - å¾åœ“å½¢æ”¹ç‚ºåƒç´ æ–¹å¡Š */
        .palette {
            display: flex;
            gap: 15px;
            z-index: 3;
        }
        .color-circle {
            width: 50px;
            height: 50px;
            border-radius: 0; /* è®Šæ–¹ */
            border: var(--pixel-size) solid var(--border-color);
            box-shadow: 3px 3px 0px rgba(0,0,0,0.3);
        }

        /* é¸é …æŒ‰éˆ•å€ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* åƒç´ æŒ‰éˆ• */
        button.option-btn {
            background: #FFFFFF;
            border: var(--pixel-size) solid var(--border-color);
            /* åƒç´ ç¡¬é™°å½± */
            box-shadow: var(--pixel-size) var(--pixel-size) 0px var(--border-color);
            border-radius: 0;
            padding: 15px 10px;
            font-size: 1.1rem;
            cursor: pointer;
            color: var(--text-color);
            font-weight: bold;
            font-family: 'DotGothic16', sans-serif;
            position: relative;
            top: 0;
            left: 0;
            transition: all 0.1s; /* å¿«é€Ÿåæ‡‰ */
        }

        /* æŒ‰éˆ•æŒ‰ä¸‹æ•ˆæœ */
        button.option-btn:active, button.option-btn.clicked {
            top: var(--pixel-size);
            left: var(--pixel-size);
            box-shadow: 0px 0px 0px var(--border-color);
            background-color: #ddd;
        }
        
        /* é›»è…¦ç‰ˆ hover æ•ˆæœ */
        @media (hover: hover) {
            button.option-btn:hover {
                 background-color: var(--accent-yellow);
            }
        }

        /* ç­”å°ç­”éŒ¯ç‹€æ…‹ */
        .correct {
            background-color: var(--accent-green) !important;
            color: var(--border-color) !important;
            box-shadow: inset 0 0 0 4px #FFFFFF, var(--pixel-size) var(--pixel-size) 0px var(--border-color) !important;
        }

        .wrong {
            background-color: var(--accent-red) !important;
            color: var(--text-light) !important;
            box-shadow: inset 0 0 0 4px #FFFFFF, var(--pixel-size) var(--pixel-size) 0px var(--border-color) !important;
            text-shadow: 1px 1px 0 var(--border-color);
        }
        
        /* æŒ‰ä¸‹å¾Œçš„ç‹€æ…‹ä¿®æ­£ (ç§»é™¤ä½ç§»ï¼Œä¿æŒé¡è‰²) */
        button.option-btn.correct:active, button.option-btn.wrong:active {
             top: 0; left: 0;
             box-shadow: inset 0 0 0 4px #FFFFFF, var(--pixel-size) var(--pixel-size) 0px var(--border-color) !important;
        }


        .hidden {
            display: none !important;
        }

        /* çµæœç•«é¢ */
        .result-screen h2 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: var(--accent-blue);
            text-shadow: 3px 3px 0 var(--border-color);
        }
        .score-display {
            font-size: 5rem;
            font-weight: bold;
            color: var(--accent-yellow);
            margin: 20px 0;
            text-shadow: 4px 4px 0 var(--border-color);
            font-family: 'Courier New', Courier, monospace; /* ç”¨ç­‰å¯¬å­—é«”é¡¯ç¤ºåˆ†æ•¸æ›´åƒèˆŠéŠæˆ² */
        }
        .restart-btn {
            background: var(--accent-blue);
            color: white;
            border: var(--pixel-size) solid var(--border-color);
            box-shadow: var(--pixel-size) var(--pixel-size) 0px var(--border-color);
            padding: 15px 40px;
            border-radius: 0;
            font-size: 1.4rem;
            cursor: pointer;
            margin-top: 20px;
            font-family: 'DotGothic16', sans-serif;
            text-shadow: 2px 2px 0 var(--border-color);
        }
        .restart-btn:active {
             transform: translate(var(--pixel-size), var(--pixel-size));
             box-shadow: none;
        }

    </style>
</head>
<body>

<div class="game-container" id="game-box">
    <div id="game-header">
        <h1>ğŸ‘¾ LOGO å¤§æŒ‘æˆ° ğŸ‘¾</h1>
        <div class="progress">STAGE <span id="current-q">1</span>-<span id="total-q">5</span></div>
    </div>

    <div id="question-area">
        <div class="clue-box" id="clue-display">
            </div>
        <p class="question-prompt">é€™æ˜¯å“ªå€‹å“ç‰Œ?</p>
        <div class="options-grid" id="options-container">
            </div>
    </div>

    <div id="result-area" class="hidden result-screen">
        <h2>GAME OVER!</h2>
        <p>ä½ çš„å“ç‰ŒçŸ¥è­˜ç­‰ç´š...</p>
        <div class="score-display"><span id="final-score">0</span> PTS</div>
        <p id="feedback-text" style="font-size: 1.2rem;">é‚„ä¸éŒ¯å–”ï¼</p>
        <button class="restart-btn" onclick="restartGame()">PRESS START</button>
    </div>
</div>

<script>
    // é¡Œåº«è¨­å®š (å…§å®¹ç¶­æŒä¸è®Š)
    const questions = [
        {
            type: 'color', 
            clue: ['#FF0000', '#FFC72C'], // ç´… & é»ƒ
            desc: 'ç¶“å…¸é…è‰²',
            options: ['è‚¯å¾·åŸº', 'éº¥ç•¶å‹', 'æ¼¢å ¡ç‹', 'å¿…å‹å®¢'],
            answer: 1 
        },
        {
            type: 'adjective',
            clue: 'ç§‘æŠ€ã€æ˜‚è²´ã€æ¥µç°¡ã€ç¼ºäº†ä¸€å£',
            desc: 'å“ç‰Œé—œéµå­—',
            options: ['Microsoft', 'Samsung', 'Apple', 'Sony'],
            answer: 2
        },
        {
            type: 'detail',
            clue: 'ğŸ§œâ€â™€ï¸ é›™å°¾ç¾äººé­š',
            desc: 'åœ–æ¡ˆç´°ç¯€',
            options: ['è·¯æ˜“è', 'æ˜Ÿå·´å…‹', '85åº¦C', 'ä¼¯æœ—å’–å•¡'],
            answer: 1
        },
        {
            type: 'color',
            clue: ['#0051BA', '#FFDA1A'], // è— & é»ƒ
            desc: 'ä¾†è‡ªåŒ—æ­çš„é…è‰²',
            options: ['Costco', 'IKEA', 'Walmart', 'Carrefour'],
            answer: 1
        },
        {
            type: 'detail',
            clue: 'ğŸš— å››å€‹ç›¸æ‰£çš„åœ“åœˆ',
            desc: 'å½¢ç‹€ç´°ç¯€',
            options: ['BMW', 'Toyota', 'Audi', 'Benz'],
            answer: 2
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let canAnswer = true;

    // åˆå§‹åŒ–éŠæˆ²
    function initGame() {
        currentQuestionIndex = 0;
        score = 0;
        document.getElementById('total-q').innerText = questions.length;
        document.getElementById('game-header').classList.remove('hidden');
        document.getElementById('question-area').classList.remove('hidden');
        document.getElementById('result-area').classList.add('hidden');
        loadQuestion();
    }

    // è¼‰å…¥é¡Œç›®
    function loadQuestion() {
        canAnswer = true;
        const q = questions[currentQuestionIndex];
        document.getElementById('current-q').innerText = currentQuestionIndex + 1;
        
        const clueBox = document.getElementById('clue-display');
        clueBox.innerHTML = ''; // Clear previous

        // æ ¹æ“šé¡Œç›®é¡å‹æ¸²æŸ“ä¸åŒçš„ç·šç´¢
        if (q.type === 'color') {
            const paletteDiv = document.createElement('div');
            paletteDiv.className = 'palette';
            q.clue.forEach(color => {
                let circle = document.createElement('div');
                circle.className = 'color-circle'; // CSSä¸­å·²ç¶“è®Šæ–¹å½¢äº†
                circle.style.backgroundColor = color;
                paletteDiv.appendChild(circle);
            });
            clueBox.appendChild(paletteDiv);
            clueBox.innerHTML += `<p style="margin-top:15px; color: var(--text-light); z-index:3;">${q.desc}</p>`;
        } else {
            // æ–‡å­—æˆ–ç´°ç¯€æè¿°
            let icon = q.type === 'detail' ? 'ğŸ”' : 'âœ¨';
            clueBox.innerHTML = `
                <div class="clue-icon">${icon}</div>
                <div class="clue-text">${q.clue}</div>
                <p style="margin-top:10px; font-size:0.9rem; color: #aaa; z-index:3;">[${q.desc}]</p>
            `;
        }

        // æ¸²æŸ“é¸é …æŒ‰éˆ•
        const optionsContainer = document.getElementById('options-container');
        optionsContainer.innerHTML = '';
        q.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            // å¢åŠ  touchstart äº‹ä»¶ä»¥ç²å¾—æ›´å¥½çš„æ‰‹æ©Ÿé»æ“Šå›é¥‹
            btn.addEventListener('touchstart', function(){ this.classList.add('clicked'); });
            btn.addEventListener('touchend', function(){ this.classList.remove('clicked'); });
            btn.onclick = () => checkAnswer(index, btn);
            optionsContainer.appendChild(btn);
        });
    }

    // æª¢æŸ¥ç­”æ¡ˆ
    function checkAnswer(selectedIndex, btnElement) {
        if (!canAnswer) return;
        canAnswer = false;
        btnElement.classList.remove('clicked'); // ç§»é™¤é»æ“Šç‹€æ…‹

        const correctIndex = questions[currentQuestionIndex].answer;
        const buttons = document.querySelectorAll('.option-btn');

        if (selectedIndex === correctIndex) {
            btnElement.classList.add('correct');
            score += 20; // æ¯é¡Œ20åˆ†
        } else {
            btnElement.classList.add('wrong');
            // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
            buttons[correctIndex].classList.add('correct');
        }

        // å»¶é²é€²å…¥ä¸‹ä¸€é¡Œ
        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }, 1200); // ç¨å¾®å»¶é•·ä¸€é»æ™‚é–“çœ‹æ¸…æ¥šçµæœ
    }

    // é¡¯ç¤ºçµæœ
    function showResult() {
        document.getElementById('game-header').classList.add('hidden');
        document.getElementById('question-area').classList.add('hidden');
        document.getElementById('result-area').classList.remove('hidden');
        
        const finalScoreSpan = document.getElementById('final-score');
        const feedbackText = document.getElementById('feedback-text');
        
        // å‹•ç•«è·‘åˆ†æ•ˆæœ
        let tempScore = 0;
        // è®“è·‘åˆ†å¿«ä¸€é»ï¼Œæ›´æœ‰é›»å‹•æ„Ÿ
        const timer = setInterval(() => {
            if (tempScore >= score) {
                clearInterval(timer);
                finalScoreSpan.innerText = score;
            } else {
                tempScore+=2; // ä¸€æ¬¡è·³2åˆ†
                if(tempScore > score) tempScore = score;
                finalScoreSpan.innerText = tempScore;
            }
        }, 15);

        // è©•èª (åŠ å…¥ä¸€é»é¡æ–‡å­—)
        if (score === 100) feedbackText.innerText = "å¤ªå¼·äº†ï¼å“ç‰Œå¤§å¸«ï¼ (â‰§âˆ‡â‰¦)/ğŸ†";
        else if (score >= 80) feedbackText.innerText = "å¾ˆå²å®³å–”ï¼çœ¼åŠ›è¶…å¥½ï¼ (â€¢Ì€á´—â€¢Ì)Ùˆ Ì‘Ì‘";
        else if (score >= 60) feedbackText.innerText = "é‚„ä¸éŒ¯ï¼ŒåŠæ ¼äº†ï¼ (Â´ãƒ»Ï‰ãƒ»`)";
        else feedbackText.innerText = "å†æ¥å†å²ï¼Œä¸‹æ¬¡æœƒæ›´å¥½ï¼ (T_T)";
    }

    function restartGame() {
        initGame();
    }

    // å•Ÿå‹•
    initGame();
</script>

</body>
</html>
